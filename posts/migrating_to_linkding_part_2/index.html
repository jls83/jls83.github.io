<!doctype html><html lang=en><head><title>Migrating from Pinboard to Linkding (Part 2) · Joseph L. Sanders</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Joseph L. Sanders"><meta name=description content="In part 1 of this series I talked about some reasons why I moved from Pinboard to Linkding, as well as some of the migration steps. In this part I&rsquo;ll talk about some extra requirements I had that necessitated some modifications to the Linkding source code.
Without realizing it, I had come to rely on the creation order of my Pinboard bookmarks as a form of &ldquo;autobiographical&rdquo; indexing. I loved seeing how my interests changed (or didn&rsquo;t!"><meta name=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Migrating from Pinboard to Linkding (Part 2)"><meta name=twitter:description content="In part 1 of this series I talked about some reasons why I moved from Pinboard to Linkding, as well as some of the migration steps. In this part I&rsquo;ll talk about some extra requirements I had that necessitated some modifications to the Linkding source code.
Without realizing it, I had come to rely on the creation order of my Pinboard bookmarks as a form of &ldquo;autobiographical&rdquo; indexing. I loved seeing how my interests changed (or didn&rsquo;t!"><meta property="og:title" content="Migrating from Pinboard to Linkding (Part 2)"><meta property="og:description" content="In part 1 of this series I talked about some reasons why I moved from Pinboard to Linkding, as well as some of the migration steps. In this part I&rsquo;ll talk about some extra requirements I had that necessitated some modifications to the Linkding source code.
Without realizing it, I had come to rely on the creation order of my Pinboard bookmarks as a form of &ldquo;autobiographical&rdquo; indexing. I loved seeing how my interests changed (or didn&rsquo;t!"><meta property="og:type" content="article"><meta property="og:url" content="/posts/migrating_to_linkding_part_2/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-10-16T00:00:00+00:00"><meta property="article:modified_time" content="2023-10-16T00:00:00+00:00"><link rel=canonical href=/posts/migrating_to_linkding_part_2/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.5adbe72fc41dcfb852215b84695288939b6b606db73238bd3ee936469572fc9c.css integrity="sha256-WtvnL8Qdz7hSIVuEaVKIk5trYG23Mji9Puk2RpVy/Jw=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-light"><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Joseph L. Sanders</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/>Home</a></li><li class=navigation-item><a class=navigation-link href=/about/>About</a></li><li class=navigation-item><a class=navigation-link href=/projects/>Projects</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Posts</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=/posts/migrating_to_linkding_part_2/>Migrating from Pinboard to Linkding (Part 2)</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2023-10-16T00:00:00Z>October 16, 2023</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
3-minute read</span></div><div class=categories><i class="fa fa-folder" aria-hidden=true></i>
<a href=/categories/pinboard-to-linkding-migration/>Pinboard-to-Linkding Migration</a></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/pinboard/>pinboard</a></span>
<span class=separator>•</span>
<span class=tag><a href=/tags/linkding/>linkding</a></span>
<span class=separator>•</span>
<span class=tag><a href=/tags/bookmarks/>bookmarks</a></span>
<span class=separator>•</span>
<span class=tag><a href=/tags/self-hosted/>self-hosted</a></span></div></div></header><div class=post-content><p>In <a href=/posts/migrating_to_linkding_part_1/>part 1</a> of this series I talked about some reasons why I moved from Pinboard to Linkding, as well as some of the migration steps. In this part I&rsquo;ll talk about some extra requirements I had that necessitated some modifications to the Linkding source code.</p><p>Without realizing it, I had come to rely on the creation order of my Pinboard bookmarks as a form of &ldquo;autobiographical&rdquo; indexing. I loved seeing how my interests changed (or didn&rsquo;t!) over time, and how my learning process unfolded. Unfortunately, my solution from part 1 of this series did not preserve the &ldquo;creation time&rdquo; value of the entries. Linkding marks the <code>date_added</code> field as read-only; a choice that absolutely makes sense for the normal use case, but breaks my autobiographical index. Thankfully, my desired behavior is easy to patch in!</p><h2 id=modifying-the-serializer--service>Modifying the Serializer & Service
<a class=heading-link href=#modifying-the-serializer--service><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>The Django-side change is thankfully quite small. You can see the change <a href=https://github.com/jls83/linkding/commit/591bfcdedbf78207df288f45018bf7e7b58b61c4 class=external-link target=_blank rel=noopener>in my Linkding fork</a>, but to summarize:</p><ul><li>Remove <code>date_added</code> from the <code>read_only_fields</code> for the <code>BookmarkSerializer</code> class</li><li>Read <code>date_added</code> off of the <code>validated_data</code>, with a default value of <code>None</code></li><li>Add logic in the <code>create_bookmark</code> service function to handle the case where we do not provide a <code>date_added</code>, rather than just using <code>now()</code> as the value</li></ul><p>Since we already send the <code>date_added</code> field in the <code>PinboardEntry.to_linkding_format</code> method, we don&rsquo;t need to make any changes to the export script from part 1.</p><h2 id=running-linkding-locally-importing-into-prod>Running Linkding Locally, Importing Into Prod
<a class=heading-link href=#running-linkding-locally-importing-into-prod><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>There is another hurdle, however. Because my prod instance is running via Docker, I would need to work with Docker to get my modified branch into a container. Not that this is particularly &ldquo;hard&rdquo;, but it seemed like a bit more effort than I wanted. Additionally, I did not want to run my modified code in production beyond the initial bookmark import.</p><p>Instead, I decided to run Linkding locally and make whatever modifications I need there. I could then then run the HTTP requests against the local/dev environment. Thankfully the project includes <a href=https://github.com/sissbruecker/linkding#development class=external-link target=_blank rel=noopener>helpful instructions</a> on getting an environment set up locally.</p><p>After running the script against my local instance, I now had all of my Pinboard bookmarks imported with their proper creation dates! I just needed to rsync the database file up to my prod server:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>rsync -azP /path/to/local_db.sqlite3 jls83@linkding.prod.server:/home/jls83/local_db.sqlite3
</span></span></code></pre></div><p>Then swap the files & restart the service:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>systemctl stop linkding-docker-compose.service
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic># Always backup your stuff :)</span>
</span></span><span style=display:flex><span>cp /opt/linkding/data/db.sqlite3 ~/linkding_backup.sqlite3
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sudo cp ~/local_db.sqlite3 /opt/linkding/data/db.sqlite3
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>systemctl start linkding-docker-compose.service
</span></span><span style=display:flex><span>systemctl restart nginx
</span></span></code></pre></div><h2 id=conclusion>Conclusion
<a class=heading-link href=#conclusion><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>I now have my &ldquo;autobiographical&rdquo; index back, and can keep growing it! I&rsquo;ve nearly doubled my bookmark count since I migrated, mostly due to how much easier it is to create bookmarks via the iOS share sheet. I hope these articles help out folks who are looking to make the switch. Thanks for reading!</p></div><footer></footer></article></section></div><footer class=footer><section class=container>©
2023
Joseph L. Sanders
·
Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script></body></html>